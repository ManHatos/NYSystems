// Prisma schema file

datasource db {
  provider = "mongodb"
  url      = ""
}

generator client {
  provider = "prisma-client-js"
}

// common object types

type DiscordUser {
  id BigInt
}

type RobloxUser {
  id BigInt
}

type Editor {
  user     DiscordUser
  editedAt DateTime    @default(now())
}

// moderation records data

model Records {
  id        BigInt      @id @map("_id")
  author    DiscordUser
  editors   Editor[]
  input     RecordInput
  createdAt DateTime    @default(now())
}

type RecordInput {
  user   RobloxUser
  reason String
  action Int
}

// moderation ban requests data

model BanRequests {
  id        BigInt      @id @map("_id")
  author    DiscordUser
  editors   Editor[]
  input     BanInput
  state     Int         @default(0)
  createdAt DateTime    @default(now())
}

type BanInput {
  user   RobloxUser
  reason String
}

// user notes
// merging to "Users" model with system NEXUS after development

// model Notes {
//   user      RobloxUser @id @map("_id")
//   message   String
//   createdAt DateTime   @default(now())
//   editedAt  DateTime?
// }
